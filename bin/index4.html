<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>数联寻英人力资源可视化平台</title>
  <meta name="description" content="app, web app, responsive, responsive layout, admin, admin panel, admin dashboard, flat, flat ui, ui kit, AngularJS, ui route, charts, widgets, components" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="stylesheet" href="../css/bootstrap.css" type="text/css" />
  <link rel="stylesheet" href="../css/animate.css" type="text/css" />
  <link rel="stylesheet" href="../css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="../css/simple-line-icons.css" type="text/css" />
  <link rel="stylesheet" href="../css/font.css" type="text/css" />
  <link rel="stylesheet" href="../css/app.css" type="text/css" />
  <link rel="stylesheet" href="../css/public.css" type="text/css" />
</head>
<body>
  <div class="app app-header-fixed" id="app">
    <!-- navbar -->
    <div class="app-header navbar">
      <!-- navbar header -->
      <div class="navbar-header bg-dark">
        <button class="pull-right visible-xs dk" data-toggle="class:show" data-target=".navbar-collapse">
          <i class="glyphicon glyphicon-cog"></i>
        </button>
        <button class="pull-right visible-xs" data-toggle="class:off-screen" data-target=".app-aside" ui-scroll="app">
          <i class="glyphicon glyphicon-align-justify"></i>
        </button>
        <!-- brand -->
        <a href="#/" class="navbar-brand text-lt">
          <i class="fa fa-header"></i>
          <img src="../img/logo2.png" alt="." class="hide">
          <span class="hidden-folded m-l-xs">Hire</span>
        </a>
        <!-- / brand -->
      </div>
      <!-- / navbar header -->

      <!-- navbar collapse -->
      <div class="collapse pos-rlt navbar-collapse box-shadow bg-white-only">
        <!-- buttons -->
        <div class="nav navbar-nav hidden-xs">
          <a href="#" class="btn no-shadow navbar-btn" data-toggle="class:app-aside-folded" data-target=".app">
            <i class="fa fa-dedent fa-fw text"></i>
            <i class="fa fa-indent fa-fw text-active"></i>
          </a>
        </div>
        <!-- / buttons -->


        <!-- nabar right -->
        <ul class="nav navbar-nav navbar-right">
          
          
          <!-- search form -->
        <form class="navbar-form navbar-form-sm navbar-left shift" ui-shift="prependTo" data-target=".navbar-collapse" role="search" ng-controller="TypeaheadDemoCtrl">
          <div class="form-group">
            <div class="input-group">
              <input type="text" ng-model="selected" typeahead="state for state in states | filter:$viewValue | limitTo:8" class="form-control input-sm bg-light no-border rounded padder" placeholder="Search projects...">
              <span class="input-group-btn">
                <button type="submit" class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>
              </span>
            </div>
          </div>
        </form>
        <!-- / search form -->
          
          <li class="dropdown">
            <a href="#" data-toggle="dropdown" class="dropdown-toggle clear">
              <span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">
                <img src="../img/a0.jpg" alt="...">
                <i class="on md b-white bottom"></i>
              </span>
              <span class="hidden-sm hidden-md">Lucy</span> <b class="caret"></b>
            </a>
            <!-- dropdown -->
            <ul class="dropdown-menu animated fadeInRight w">
              <li class="wrapper b-b m-b-sm bg-light m-t-n-xs">
                <div>
                  <p style="font-size:14px">账户余额：0元</p>
                </div>
                <progressbar value="50" class="progress-xs m-b-none bg-white"></progressbar>
              </li>
              <li>
                <a ui-sref="app.docs">
                  <span class="label bg-info pull-right">new</span>
                  Help
                </a>
              </li>
              <li class="divider"></li>
              <li>
                <a ui-sref="access.signin">退出</a>
              </li>
            </ul>
            <!-- / dropdown -->
          </li>
        </ul>
        <!-- / navbar right -->

      </div>
      <!-- / navbar collapse -->
    </div>
    <!-- / navbar -->

    <!-- menu -->
    <div class="app-aside hidden-xs bg-dark">
      <div class="aside-wrap">
        <div class="navi-wrap">

          <!-- nav -->
          <nav ui-nav class="navi">
            <ul class="nav">
              <li id="bar-human" class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                <span translate="aside.nav.HEADER">数据可视化</span>
              </li>
             
             <script id="tm_menu1" type="text/html">
                <% menu.forEach(function(d, i){ %>
 				  <li>
					<a href class="auto">
					  <span class="pull-right text-muted">
						<i class="fa fa-fw fa-angle-right text"></i>
						<i class="fa fa-fw fa-angle-down text-active"></i>
					  </span>
					  <i class="glyphicon icon glyphicon-<%= d.icon %>"></i>
					  <span class="font-bold"><%= d.name %></span>
					</a>
					<ul class="nav nav-sub dk">
					  <li class="nav-sub-header"><a href><span><%= d.name %></span></a></li>
					  <% d.chlidren.forEach(function(c){ %>
						  <li ui-sref-active="active">
							<a ui-sref="apps.contact" href="#" title="<%= c.url %>" onclick="goHref(this);">
								<span><%= c.name %></span>
							</a>
						  </li>
					  <% }); %>
					</ul>
				  </li>				  
                <% }); %>
            </script>

              <li class="line dk"></li>

              <li id="bar-data" class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                <span translate="aside.nav.components.COMPONENTS">数据管理</span>
              </li>
            
              <li class="line dk hidden-folded"></li>

              
            </ul>
          </nav>
          <!-- nav -->

          <!-- aside footer -->
          <div class="wrapper m-t">
            <div class="text-center-folded">
              <span class="pull-right pull-none-folded">60%</span>
              <span class="hidden-folded font-12" translate="aside.MILESTONE">数据完整度</span>
            </div>
            <div class="progress progress-xxs m-t-sm dk">
              <div class="progress-bar progress-bar-info" style="width: 60%;">
              </div>
            </div>
            <div class="text-center-folded">
              <span class="pull-right pull-none-folded">35%</span>
              <span class="hidden-folded" translate="aside.RELEASE">Release</span>
            </div>
            <div class="progress progress-xxs m-t-sm dk">
              <div class="progress-bar progress-bar-primary" style="width: 35%;">
              </div>
            </div>
          </div>
          <!-- / aside footer -->
        </div>
      </div>
    </div>
    <!-- / menu -->

    <!-- content -->
	<div 
	
    <div id="frame1" class="app-content m-a">
    <!-- head end here -->
    
    
    
      
    <!-- tail start here -->
    </div>
    <!-- /content -->


    <!-- / aside right -->

    <!-- footer -->
    <div class="app-footer wrapper b-t bg-light">
      <span class="pull-right">1.0.0 <a href="#app" class="m-l-sm text-muted"><i class="fa fa-long-arrow-up"></i></a></span>
      &copy; 2014 Copyright. More Products <a href="http://www.shulianxunying.com/" target="_blank" title="官方网站">Hire Big Data</a> - Collect from <a href="#/" title="网页模板" target="_blank"> 数联寻英.</a>
    </div>
    <!-- / footer -->
  </div>
  <input id="main_url" type="text" style="display:none" />
  <!-- jQuery -->
  <script src="../js/jquery.min.js"></script>
  <script src="../js/bootstrap.js"></script>
  <script src="../js/ejs.js"></script>
  <script src="../js/public.js"></script>
  <script src="../js/networky.js"></script>

  <script type="text/javascript">
  "use strict";
  
  	function goHref(obj){
		var target = (obj != undefined && obj.title != "") ? obj.title : "test3";
		
		$.ajaxSetup({ cache:false });
		$.ajaxSetup({ async: false }); 
		
		$("<div></div>").load(target + ".html", function(){
			$("#frame1").html("");
			$("#frame1").html(this.innerHTML.match(/<xmp>([\s\S]*?)<\/xmp>/)[1]);
		});
		//*/
	}
    +function ($) {
      $(function(){
        
		var menus = [{ name:"员工行为分析", icon:'user text-info-dker', chlidren:[
            {name:'办公流动分析', url:'staff-flow'}, {name:'异常分析', url:'staff-clock'}, {name:'工作时间分布', url:'staff-time'},
            {name:'员工关系分析', url:'staff-people'}
        ]},
        {name:"绩效分析", icon:'time text-success', chlidren:[
            {name:'暂未开放', url:''}
        ]},
        {name:"组织结构分析", icon:'credit-card text-primary', chlidren:[
            {name:'暂未开放', url:''}
        ]},
        ];
		var datas = [{name:"数据样例", icon:'file', chlidren:[
            {name:'人力资源数据1', url:''}
        ]}];
		
        var tm_menu = $("#tm_menu1").html();
        $("#bar-human").after(ejs.render(tm_menu, { menu: menus }));
		$("#bar-data").after(ejs.render(tm_menu, { menu: datas }));
		
		
        $(document).on('click', '[data-toggle^="class"]', function(e){
          e && e.preventDefault();
          var $this = $(e.target), $class , $target, $tmp, $classes, $targets;
          !$this.data('toggle') && ($this = $this.closest('[data-toggle^="class"]'));
          $class = $this.data()['toggle'];
          $target = $this.data('target') || $this.attr('href');
          $class && ($tmp = $class.split(':')[1]) && ($classes = $tmp.split(','));
          $target && ($targets = $target.split(','));
          $classes && $classes.length && $.each($targets, function( index, value ) {
            if ( $classes[index].indexOf( '*' ) !== -1 ) {
              var patt = new RegExp( '\\s' + 
                  $classes[index].
                    replace( /\*/g, '[A-Za-z0-9-_]+' ).
                    split( ' ' ).
                    join( '\\s|\\s' ) + 
                  '\\s', 'g' );
              $($this).each( function ( i, it ) {
                var cn = ' ' + it.className + ' ';
                while ( patt.test( cn ) ) {
                  cn = cn.replace( patt, ' ' );
                }
                it.className = $.trim( cn );
              });
            }
            ($targets[index] !='#') && $($targets[index]).toggleClass($classes[index]) || $this.toggleClass($classes[index]);
          });
          $this.toggleClass('active');
        });
        // collapse nav
        $(document).on('click', 'nav a', function (e) {
          var $this = $(e.target), $active;
          $this.is('a') || ($this = $this.closest('a'));
          
          $active = $this.parent().siblings( ".active" );
          $active && $active.toggleClass('active').find('> ul:visible').slideUp(200);
          
          ($this.parent().hasClass('active') && $this.next().slideUp(200)) || $this.next().slideDown(200);
          $this.parent().toggleClass('active');
          
          $this.next().is('ul') && e.preventDefault();

          setTimeout(function(){ $(document).trigger('updateNav'); }, 300);      
        });
      });
	  goHref();
	  //setFrame();
	  	  
    }(jQuery);
	//$(window).resize(function(){ setFrame(); });
	function setFrame(){ $("#fm-main").height(1000 - 158); };
	//document.documentElement.clientHeight
	
	
  </script>

</body>
</html>